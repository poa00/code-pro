{"version":3,"sources":["components/Editor.tsx","reportWebVitals.ts","components/Icons.tsx","components/Settings.tsx","lib/renderMarkdown.ts","components/ErrorBoundary.tsx","components/PrintDialog.tsx","lib/makePrettier.ts","index.tsx"],"names":["HtmlClassName","HtmlElementId","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","infoColor","foregroundColor","ChevronIconDown","fill","role","className","aria-label","width","height","viewBox","xmlns","d","ChevronIconRight","CloseIcon","EyeIcon","condition","PencilIcon","PrintIcon","RefreshIcon","SaveIcon","WindowIcon","Settings","props","onFocus","settings","document","getElementById","classList","add","onBlur","remove","loadDefaultSettings","saveSettings","state","id","this","showSettings","buttonRefreshEditor","onClick","refreshEditor","title","buttonToggleEditMode","toggleEditMode","editMode","buttonToggleViewMode","toggleViewMode","viewMode","buttonPrint","confirmPrintUrl","settingsToggleButton","toggleShowSettings","htmlFor","language","name","onChange","handleSelectChange","value","fontSize","tabSize","minimap","checked","type","handleInputChange","theme","wordWrap","buttonSaveSettings","saveDefaultSettings","buttonLoadSettings","React","Component","breaks","require","externalLinks","footnotes","gfm","gemoji","math","slug","toc","highlight","rehypeKatex","raw","processor","unified","use","parse","maxDepth","inlineNotes","remark2rehype","allowDangerousHtml","ignoreMissing","rehype2react","createElement","renderMarkdown","debounce","text","processSync","result","processMarkdown","getCodeText","ErrorBoundary","hasError","error","errorInfo","console","setState","message","href","target","rel","children","PrintDialog","cancelText","confirmText","helpLink","onCancel","onConfirm","onUndo","buttonCancel","editor","lastPosition","initialState","printUrl","refreshTokenEditor","refreshTokenView","debugMode","keyMap","Map","lastBackgroundColor","lastDarkMode","lastRefreshToken","wasEditorFocused","viewScrollTop","Editor","editorKit","saveTimer","configureEditorKit","delegate","EditorKitDelegate","setEditorRawText","cancel","flush","refreshView","loadSettings","clearUndoHistory","getElementsBySelector","EditorKit","mode","supportsFilesafe","componentDidMount","setTimeout","note","internal","componentManager","saveItemWithPresave","content","codeEditorSettings","JSON","stringify","streamContextItem","undefined","loadedSettings","saveEditorOption","optionKey","optionValue","setComponentDataValueForKey","defaultSettings","callback","settingsString","componentDataValueForKey","platform","event","saveText","saveNote","clearTimeout","refreshMarkdown","onEditorValueChanged","toggleSettingsButton","focus","view","viewContainer","scrollTop","cancelPrint","printButton","printUrlFalse","printRenderedHtml","printUrlTrue","window","print","e","onKeyDown","ctrlKey","code","preventDefault","altKey","onKeyUp","delete","key","snComponent","tabIndex","contentContainer","MonacoEditorContainerParentDiv","self","MonacoEnvironment","getWorkerUrl","_moduleId","label","lastLanguage","MonacoEditor","MonacoEditorContainer","divEl","useRef","useEffect","current","defineSnTheme","backgroundColor","borderColor","colorRegExp","whiteSpaceRegExp","tempBackgroundColor","getComputedStyle","documentElement","getPropertyValue","replace","match","contrastBackgroundColor","tempBorderColor","dangerColor","tempContrastBackgroundColor","fadedForegroundColor","fadedTwiceForegroundColor","tempDangerColor","fadedInfoColor","fadedTwiceInfoColor","tempForegroundColor","concat","shadowColor","tempInfoColor","warningColor","tempShadowColor","tempWarningColor","isDarkMode","matchMedia","matches","monaco","defineTheme","base","inherit","rules","token","background","foreground","colors","focusBorder","setTheme","create","fontFamily","parseInt","enabled","join","autoClosingOvertype","formatOnPaste","formatOnType","wrappingStrategy","shiftKey","previousPosition","formattedText","prettier","format","parser","plugins","parserCss","parserGraphql","parserMarkdown","parserHtml","parserBabel","parserTypescript","parserYaml","makePrettier","getValue","setValue","revealLineInCenterIfOutsideViewport","lineNumber","setPosition","onDidChangeModelContent","onDidChangeCursorPosition","pos","getPosition","onDidFocusEditorWidget","currentBackgroundColor","onDidBlurEditorWidget","dispose","ref","View","useState","markdown","updateMarkdown","ReactDOM","render","StrictMode"],"mappings":"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AKb,MAAM8B,SALpB,UAOE,0CACA,yCACA,0CACA,2CACA,yCACA,uCACA,8CACA,6CACA,kDACA,yCACA,4CACA,yCACA,yCACA,0CACA,gDACA,4CACA,wCACA,6CACA,gDACA,yCACA,0CACA,yCACA,0CACA,gDACA,0CACA,2CACA,4CACA,0CACA,2CACA,yCACA,8CACA,0CACA,2CACA,2CACA,iDACA,4CACA,+CACA,0CACA,2CACA,yCACA,+CACA,8CACA,gDACA,gDACA,yCACA,4CACA,uCACA,2CACA,2CACA,8CACA,sDACA,0CACA,0CACA,wCACA,2CACA,4CACA,0CACA,2CACA,yCACA,yCACA,wCACA,2CACA,mDACA,yCACA,0CACA,gDACA,wCACA,6CACA,yCACA,iDApFsC9D,EAAc8D,UAwF1D,0BAAS/C,UAAU,WAAnB,UACE,uBACE8C,QAAS7D,EAAcmE,SACvBjB,MAAO,8CAFT,4BAMA,qBAAKnC,UAAU,iBAAf,SACE,yBACE6B,GAAI5C,EAAcmE,SAClBJ,KAAM/D,EAAcmE,SACpBH,SAAUnB,KAAKb,MAAMiC,mBACrBf,MAAO,8CACPgB,MAAOrB,KAAKb,MAAMmC,SALpB,UAOE,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,iDA7B6BnE,EAAcmE,UAiCjD,0BAASpD,UAAU,WAAnB,UACE,uBACE8C,QAAS7D,EAAcoE,QACvBlB,MACE,6DAHJ,2BAQA,qBAAKnC,UAAU,iBAAf,SACE,yBACE6B,GAAI5C,EAAcoE,QAClBL,KAAM/D,EAAcoE,QACpBJ,SAAUnB,KAAKb,MAAMiC,mBACrBf,MACE,6DAEFgB,MAAOrB,KAAKb,MAAMoC,QAPpB,UASE,uCACA,8CApB6BpE,EAAcoE,SAwBjD,0BAASrD,UAAU,WAAnB,UACE,uBACE8C,QAAS7D,EAAcqE,QACvBnB,MAAO,+CAFT,0BAMA,qBAAKnC,UAAU,iBAAf,SACE,uBAAOA,UAAW,uBAAlB,SACE,uBACEuD,QAASzB,KAAKb,MAAMqC,QACpBzB,GAAI5C,EAAcqE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","file":"static/js/main.758f1d6b.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { EditorKit, EditorKitDelegate } from 'sn-editor-kit';\nimport * as monaco from 'monaco-editor';\n\n/** Components */\nimport Settings from './Settings';\n\n/** Lib */\nimport { makePrettier } from '../lib/makePrettier';\nimport { getCodeText, renderMarkdown } from '../lib/renderMarkdown';\nimport ErrorBoundary from './ErrorBoundary';\nimport PrintDialog from './PrintDialog';\n\nexport enum HtmlClassName {\n  MonacoEditorContainerParentDiv = 'MonacoEditorContainerParentDiv',\n  MonacoEditorContainer = 'MonacoEditorContainer',\n  snComponent = 'sn-component',\n  textarea = 'sk-input contrast textarea',\n}\n\nexport enum HtmlElementId {\n  fontSize = 'fontSize',\n  language = 'language',\n  minimap = 'minimap',\n  tabSize = 'tabSize',\n  theme = 'theme',\n  wordWrap = 'wordWrap',\n  saveAsDefault = 'saveAsDefault',\n\n  buttonCancel = 'buttonCancel',\n  buttonToggleEditMode = 'buttonToggleEditMode',\n  buttonLoadSettings = 'buttonLoadSettings',\n  buttonPrint = 'buttonPrint',\n  buttonRefreshEditor = 'buttonRefreshEditor',\n  buttonSaveSettings = 'buttonSaveSettings',\n  buttonToggleViewMode = 'buttonToggleViewMode',\n\n  contentContainer = 'contentContainer',\n  MonacoEditorContainer = 'MonacoEditorContainer',\n  settings = 'settingsContainer',\n  settingsToggleButton = 'settingsToggleButton',\n  snComponent = 'sn-component',\n  viewContainer = 'viewContainer',\n}\n\nexport interface SettingsInterface {\n  fontSize: string;\n  language: string;\n  minimap: boolean;\n  tabSize: number;\n  theme: string;\n  wordWrap: string;\n}\n\nexport interface EditorInterface extends SettingsInterface {\n  confirmPrintUrl: boolean;\n  editMode: boolean;\n  text: string;\n  platform?: string;\n  printUrl: boolean;\n  refreshTokenEditor: boolean;\n  refreshTokenView: boolean;\n  showSettings: boolean;\n  viewMode: boolean;\n  /** this is used for handleSelectChange, but could mess with type checking */\n  [x: string]: string | number | boolean | undefined;\n}\n\nconst initialState = {\n  confirmPrintUrl: false,\n  editMode: false,\n  fontSize: '16px',\n  language: 'markdown',\n  minimap: true,\n  printUrl: true,\n  refreshTokenEditor: false,\n  refreshTokenView: false,\n  showSettings: true,\n  tabSize: 2,\n  text: '',\n  theme: 'sn-theme',\n  viewMode: false,\n  wordWrap: 'on',\n};\n\nconst debugMode = false;\nlet keyMap = new Map();\n\nlet editor: monaco.editor.IStandaloneCodeEditor;\nlet diffEditor: monaco.editor.IStandaloneDiffEditor;\nlet lastBackgroundColor = 'white';\nlet lastDarkMode = true;\nlet lastPosition: monaco.IPosition;\nlet lastRefreshToken = false;\nlet wasEditorFocused = true;\nlet viewScrollTop = 0;\n\nexport default class Editor extends React.Component<{}, EditorInterface> {\n  editorKit: any;\n  saveTimer: NodeJS.Timeout | undefined;\n\n  constructor(props: EditorInterface) {\n    super(props);\n    this.state = initialState;\n  }\n\n  configureEditorKit = () => {\n    let delegate = new EditorKitDelegate({\n      /** This loads every time a different note is loaded */\n      setEditorRawText: (text: string) => {\n        this.setState(\n          {\n            text,\n          },\n          () => {\n            if (this.state.viewMode) {\n              renderMarkdown.cancel();\n              renderMarkdown(getCodeText(this.state.language, text));\n              renderMarkdown.flush();\n              this.refreshView();\n            }\n            this.refreshEditor();\n            /** Wait until the text has been loaded to show the editor */\n            this.loadDefaultSettings(() => {});\n            this.loadSettings();\n          }\n        );\n      },\n      clearUndoHistory: () => {},\n      getElementsBySelector: () => [],\n    });\n\n    this.editorKit = new EditorKit({\n      delegate: delegate,\n      mode: 'plaintext',\n      supportsFilesafe: false,\n    });\n  };\n\n  componentDidMount = () => {\n    this.configureEditorKit();\n    setTimeout(() => {\n      this.setState({ editMode: true });\n    }, 250);\n  };\n\n  saveSettings = () => {\n    try {\n      const note = this.editorKit.internal.note;\n      let settings: SettingsInterface;\n      settings = {\n        fontSize: this.state.fontSize,\n        language: this.state.language,\n        minimap: this.state.minimap,\n        tabSize: this.state.tabSize,\n        theme: this.state.theme,\n        wordWrap: this.state.wordWrap,\n      };\n      this.editorKit.internal.componentManager.saveItemWithPresave(note, () => {\n        note.content.codeEditorSettings = JSON.stringify(settings);\n      });\n    } catch (error) {\n      console.error('Error saving settings', error);\n    }\n  };\n\n  loadSettings = () => {\n    this.editorKit.internal.componentManager.streamContextItem((note: any) => {\n      // Load editor settings\n      if (note.content.codeEditorSettings !== undefined) {\n        const loadedSettings = JSON.parse(\n          note.content.codeEditorSettings\n        ) as SettingsInterface;\n        this.setState({\n          /** If each property is the appropriate type, then assign it.\n           * Otherwise, set state as the current state. */\n          fontSize:\n            typeof loadedSettings.fontSize === 'string'\n              ? loadedSettings.fontSize\n              : this.state.fontSize,\n          language:\n            typeof loadedSettings.language === 'string'\n              ? loadedSettings.language\n              : this.state.language,\n          minimap:\n            typeof loadedSettings.minimap === 'boolean'\n              ? loadedSettings.minimap\n              : this.state.minimap,\n          tabSize:\n            typeof loadedSettings.tabSize === 'number'\n              ? loadedSettings.tabSize\n              : this.state.tabSize,\n          theme:\n            typeof loadedSettings.theme === 'string'\n              ? loadedSettings.theme\n              : this.state.theme,\n          wordWrap:\n            typeof loadedSettings.wordWrap === 'string'\n              ? loadedSettings.wordWrap\n              : this.state.wordWrap,\n        });\n      }\n    });\n  };\n\n  saveEditorOption = (optionKey: string, optionValue: string) => {\n    try {\n      this.editorKit.internal.componentManager.setComponentDataValueForKey(\n        optionKey,\n        optionValue\n      );\n    } catch (error) {\n      console.error(\n        'Error saving editor option. Your optionKey:',\n        optionKey,\n        '\\n - Your optionValue: ',\n        optionValue,\n        '\\n - The error: ',\n        error\n      );\n    }\n  };\n\n  saveDefaultSettings = () => {\n    let defaultSettings: SettingsInterface;\n    defaultSettings = {\n      fontSize: this.state.fontSize,\n      language: this.state.language,\n      minimap: this.state.minimap,\n      tabSize: this.state.tabSize,\n      theme: this.state.theme,\n      wordWrap: this.state.wordWrap,\n    };\n    this.saveEditorOption('defaultSettings', JSON.stringify(defaultSettings));\n  };\n\n  loadDefaultSettings = (callback: () => void) => {\n    try {\n      const settingsString = this.editorKit.internal.componentManager.componentDataValueForKey(\n        'defaultSettings'\n      );\n      if (settingsString !== undefined) {\n        const defaultSettings = JSON.parse(settingsString) as SettingsInterface;\n        if (debugMode) {\n          console.log('defaultSettings', defaultSettings);\n        }\n        this.setState(\n          {\n            /** If each property is the appropriate type, then assign it.\n             * Otherwise, set state as the current state. */\n            fontSize:\n              typeof defaultSettings.fontSize === 'string'\n                ? defaultSettings.fontSize\n                : this.state.fontSize,\n            language:\n              typeof defaultSettings.language === 'string'\n                ? defaultSettings.language\n                : this.state.language,\n            minimap:\n              typeof defaultSettings.minimap === 'boolean'\n                ? defaultSettings.minimap\n                : this.state.minimap,\n            tabSize:\n              typeof defaultSettings.tabSize === 'number'\n                ? defaultSettings.tabSize\n                : this.state.tabSize,\n            theme:\n              typeof defaultSettings.theme === 'string'\n                ? defaultSettings.theme\n                : this.state.theme,\n            wordWrap:\n              typeof defaultSettings.wordWrap === 'string'\n                ? defaultSettings.wordWrap\n                : this.state.wordWrap,\n          },\n          () => {\n            if (callback) {\n              callback();\n            }\n          }\n        );\n      }\n      this.setState(\n        {\n          platform: this.editorKit.internal.componentManager.platform,\n        },\n        () => {\n          if (debugMode) {\n            console.log(this.state.platform);\n          }\n        }\n      );\n    } catch (error) {\n      // Log outside debug mode\n      console.error('Error loading editor options:', error);\n    }\n  };\n\n  handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        /** Mini map is the only possible [name] */\n        if (name === 'minimap') {\n          this.saveSettings();\n        }\n      }\n    );\n  };\n\n  handleSelectChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState(\n      {\n        [name]: value,\n      },\n      () => {\n        if (debugMode) {\n          console.log(\n            'Saved select. Name: ' +\n              event.target.name +\n              ' Value: ' +\n              event.target.value\n          );\n        }\n        this.saveSettings();\n      }\n    );\n  };\n\n  saveText = (text: string) => {\n    this.saveNote(text);\n    this.setState(\n      {\n        text: text,\n      },\n      () => {\n        if (this.state.viewMode) {\n          if (this.saveTimer) {\n            clearTimeout(this.saveTimer);\n          }\n          this.refreshMarkdown();\n        }\n      }\n    );\n  };\n\n  saveNote = (text: string) => {\n    /** This will work in an SN context, but breaks the standalone editor,\n     * so we need to catch the error\n     */\n    try {\n      this.editorKit.onEditorValueChanged(text);\n    } catch (error) {\n      console.error('Error saving note:', error);\n    }\n  };\n\n  refreshEditor = () => {\n    this.setState({\n      refreshTokenEditor: !this.state.refreshTokenEditor,\n    });\n  };\n\n  refreshMarkdown = () => {\n    this.saveTimer = setTimeout(() => {\n      renderMarkdown.cancel();\n      this.refreshView();\n    }, 550);\n  };\n\n  refreshView = () => {\n    this.setState({\n      refreshTokenView: !this.state.refreshTokenView,\n    });\n  };\n\n  toggleShowSettings = () => {\n    this.setState(\n      {\n        showSettings: !this.state.showSettings,\n      },\n      () => {\n        /** Refresh the editor to increase its height */\n        if (!this.state.showSettings) {\n          this.refreshEditor();\n        }\n        const toggleSettingsButton = document.getElementById(\n          HtmlElementId.settingsToggleButton\n        );\n        if (toggleSettingsButton) {\n          toggleSettingsButton.focus();\n        }\n      }\n    );\n  };\n\n  toggleEditMode = () => {\n    if (!this.state.editMode) {\n      this.setState({\n        editMode: true,\n      });\n    } else if (this.state.editMode) {\n      this.setState(\n        {\n          editMode: false,\n        },\n        () => {\n          this.toggleViewMode();\n        }\n      );\n    }\n  };\n\n  toggleViewMode = () => {\n    if (!this.state.viewMode) {\n      this.setState(\n        {\n          viewMode: true,\n        },\n        () => {\n          this.refreshEditor();\n          const view = document.getElementById(HtmlElementId.viewContainer);\n          if (view) {\n            view.scrollTop = viewScrollTop;\n          }\n          this.refreshMarkdown();\n        }\n      );\n    } else if (this.state.viewMode) {\n      /** Record the scroll top of the view container */\n      const view = document.getElementById(HtmlElementId.viewContainer);\n      if (view) {\n        viewScrollTop = view.scrollTop;\n      }\n      if (!this.state.editMode) {\n        /** If the editor is closed, then open it */\n        this.setState({\n          editMode: true,\n          viewMode: false,\n        });\n      } else if (this.state.editMode) {\n        this.setState(\n          {\n            viewMode: false,\n          },\n          () => {\n            /** If the editor is open, refresh the size */\n            this.refreshEditor();\n          }\n        );\n      }\n    }\n  };\n\n  /** Printing */\n  cancelPrint = () => {\n    this.setState(\n      {\n        confirmPrintUrl: false,\n      },\n      () => {\n        const printButton = document.getElementById(HtmlElementId.buttonPrint);\n        if (printButton) {\n          printButton.focus();\n        }\n      }\n    );\n  };\n\n  confirmPrintUrl = () => {\n    if (!this.state.viewMode) {\n      this.toggleViewMode();\n    }\n    this.setState(\n      {\n        confirmPrintUrl: true,\n      },\n      () => {\n        const cancelPrint = document.getElementById(HtmlElementId.buttonCancel);\n        if (cancelPrint) {\n          cancelPrint.focus();\n        }\n      }\n    );\n  };\n\n  printUrlFalse = () => {\n    this.setState(\n      {\n        confirmPrintUrl: false,\n        printUrl: false,\n      },\n      () => {\n        this.printRenderedHtml();\n      }\n    );\n  };\n\n  printUrlTrue = () => {\n    this.setState(\n      {\n        confirmPrintUrl: false,\n        printUrl: true,\n      },\n      () => {\n        this.printRenderedHtml();\n      }\n    );\n  };\n\n  printRenderedHtml = () => {\n    window.print();\n    const printButton = document.getElementById(HtmlElementId.buttonPrint);\n    if (printButton) {\n      printButton.focus();\n    }\n  };\n\n  /** Events */\n  onBlur = (e: React.FocusEvent) => {};\n\n  onFocus = (e: React.FocusEvent) => {};\n\n  // Keyboard Events\n  onKeyDown = (e: monaco.IKeyboardEvent) => {\n    // Do nothing if 'Control' and 's' are pressed\n    if (e.ctrlKey && e.code === 'KeyS') {\n      e.preventDefault();\n    } else if (e.altKey && e.code === 'KeyZ') {\n      /** Toggle word wrap with Alt + Z */\n      if (this.state.wordWrap === 'on') {\n        this.setState({\n          wordWrap: 'off',\n        });\n      } else if (this.state.wordWrap === 'off') {\n        this.setState({\n          wordWrap: 'on',\n        });\n      }\n    }\n  };\n\n  onKeyUp = (e: React.KeyboardEvent | KeyboardEvent) => {\n    keyMap.delete(e.key);\n  };\n\n  render() {\n    return (\n      <div\n        className={HtmlElementId.snComponent + ' ' + this.state.theme}\n        id={HtmlElementId.snComponent}\n        tabIndex={0}\n      >\n        <div\n          id={HtmlElementId.contentContainer}\n          className={\n            (this.state.editMode ? 'editMode' : '') +\n            ' ' +\n            (this.state.viewMode ? 'viewMode' : '') +\n            ' ' +\n            (this.state.showSettings ? 'showSettings' : 'hideSettings') +\n            ' ' +\n            (this.state.printUrl ? 'print-url' : 'no-print-url')\n          }\n        >\n          {this.state.editMode && (\n            <div\n              className={\n                HtmlClassName.MonacoEditorContainerParentDiv +\n                ' ' +\n                this.state.theme\n              }\n            >\n              <ErrorBoundary>\n                <MonacoEditor\n                  fontSize={this.state.fontSize}\n                  language={this.state.language}\n                  minimap={this.state.minimap}\n                  onKeyDown={this.onKeyDown}\n                  refreshTokenEditor={this.state.refreshTokenEditor}\n                  saveText={this.saveText}\n                  tabSize={this.state.tabSize}\n                  text={this.state.text}\n                  theme={this.state.theme}\n                  wordWrap={this.state.wordWrap}\n                />\n              </ErrorBoundary>\n            </div>\n          )}\n          {this.state.viewMode && (\n            <ErrorBoundary>\n              <View\n                language={this.state.language}\n                refreshTokenView={this.state.refreshTokenView}\n                text={this.state.text}\n              />\n            </ErrorBoundary>\n          )}\n          {this.state.confirmPrintUrl && (\n            <ErrorBoundary>\n              <PrintDialog\n                cancelText=\"No, thanks\"\n                confirmText=\"Yes, print URLs\"\n                helpLink={\n                  'https://docs.standardnotes.org/usage/code-pro/#printing'\n                }\n                onUndo={this.cancelPrint}\n                onCancel={this.printUrlFalse}\n                onConfirm={this.printUrlTrue}\n                title={`Would you like to print URLs?`}\n              />\n            </ErrorBoundary>\n          )}\n        </div>\n        <ErrorBoundary>\n          <Settings\n            debugMode={debugMode}\n            confirmPrintUrl={this.confirmPrintUrl}\n            editMode={this.state.editMode}\n            fontSize={this.state.fontSize}\n            handleInputChange={this.handleInputChange}\n            handleSelectChange={this.handleSelectChange}\n            language={this.state.language}\n            minimap={this.state.minimap}\n            loadDefaultSettings={this.loadDefaultSettings}\n            refreshEditor={this.refreshEditor}\n            saveSettings={this.saveSettings}\n            saveDefaultSettings={this.saveDefaultSettings}\n            showSettings={this.state.showSettings}\n            tabSize={this.state.tabSize}\n            theme={this.state.theme}\n            toggleEditMode={this.toggleEditMode}\n            toggleShowSettings={this.toggleShowSettings}\n            toggleViewMode={this.toggleViewMode}\n            viewMode={this.state.viewMode}\n            wordWrap={this.state.wordWrap}\n          />\n        </ErrorBoundary>\n      </div>\n    );\n  }\n}\n\nconst MonacoDiffEditorContainerID = 'MonacoDiffEditorContainer';\n\n/*eslint no-restricted-globals: [\"error\", \"event\", \"monaco\"]*/\n// @ts-ignore\nself.MonacoEnvironment = {\n  getWorkerUrl: function (_moduleId: any, label: string) {\n    if (label === 'json') {\n      return './monaco/json.worker.bundle.js';\n    }\n    if (label === 'css' || label === 'scss' || label === 'less') {\n      return './monaco/css.worker.bundle.js';\n    }\n    if (label === 'html' || label === 'handlebars' || label === 'razor') {\n      return './monaco/html.worker.bundle.js';\n    }\n    if (label === 'typescript' || label === 'javascript') {\n      return './monaco/ts.worker.bundle.js';\n    }\n    return './monaco/editor.worker.bundle.js';\n  },\n};\n\nconst onKeyDownDebug = (keyCode: string, debugMode = false) => {\n  if (debugMode) {\n    //console.log('IKeyboardEvent Up: ' + keyCode);\n  }\n};\n\nconst onKeyUpDebug = (keyCode: string, debugMode = false) => {\n  if (debugMode) {\n    //console.log('IKeyboardEvent Up: ' + keyCode);\n  }\n};\n\ninterface MonacoEditorTypes {\n  fontSize: string;\n  id?: string;\n  language: string;\n  minimap: boolean;\n  onKeyDown: Function;\n  onKeyUp?: Function;\n  refreshTokenEditor: boolean;\n  saveText: Function;\n  tabSize: number;\n  text: string;\n  theme: string;\n  wordWrap: string;\n}\n\nexport const MonacoEditor: React.FC<MonacoEditorTypes> = ({\n  fontSize = '16px',\n  id = HtmlElementId.MonacoEditorContainer,\n  language = 'javascript',\n  minimap = true,\n  onKeyDown,\n  refreshTokenEditor,\n  saveText,\n  tabSize = 2,\n  text,\n  theme = 'vs-dark',\n  wordWrap = 'on',\n}) => {\n  const divEl = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (divEl.current) {\n      const defineSnTheme = () => {\n        const colorRegExp = /^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;\n        const whiteSpaceRegExp = /\\s+/g;\n\n        let backgroundColor: string;\n        let tempBackgroundColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-background-color')\n          .replace(whiteSpaceRegExp, '');\n\n        if (!tempBackgroundColor.match(colorRegExp)) {\n          console.error('Error parsing background color', tempBackgroundColor);\n          backgroundColor = '#ffffff';\n        } else {\n          backgroundColor = tempBackgroundColor;\n        }\n\n        let borderColor: string;\n        let tempBorderColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-border-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempBorderColor.match(colorRegExp)) {\n          console.error('Error parsing border color', tempBorderColor);\n          borderColor = '#e3e3e3';\n        } else {\n          borderColor = tempBorderColor;\n        }\n\n        let contrastBackgroundColor: string;\n        let tempContrastBackgroundColor = getComputedStyle(\n          document.documentElement\n        )\n          .getPropertyValue('--sn-stylekit-contrast-background-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempContrastBackgroundColor.match(colorRegExp)) {\n          console.error(\n            'Error parsing contrast background color',\n            tempContrastBackgroundColor\n          );\n          contrastBackgroundColor = '#F6F6F6';\n        } else {\n          contrastBackgroundColor = tempContrastBackgroundColor;\n        }\n\n        let dangerColor: string;\n        let tempDangerColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-danger-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempDangerColor.match(colorRegExp)) {\n          console.error('Error parsing danger color', tempDangerColor);\n          dangerColor = '#F80324'; // Red\n        } else {\n          dangerColor = tempDangerColor;\n        }\n\n        let foregroundColor: string;\n        let fadedForegroundColor: string;\n        let fadedTwiceForegroundColor: string;\n        let tempForegroundColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-foreground-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempForegroundColor.match(colorRegExp)) {\n          console.error('Error parsing foreground color', tempForegroundColor);\n          foregroundColor = '#000000';\n          fadedForegroundColor = '#00000099'; /** 60 */\n          fadedTwiceForegroundColor = '#0000001A'; /** 10 */\n        } else {\n          foregroundColor = tempForegroundColor;\n          if (!foregroundColor.concat('99').match(colorRegExp)) {\n            fadedForegroundColor = '#00000099'; /** 60 */\n            fadedTwiceForegroundColor = '#0000001A'; /** 10 */\n          } else {\n            fadedForegroundColor = tempForegroundColor.concat('99'); /** 60% */\n            fadedTwiceForegroundColor = tempForegroundColor.concat(\n              '1A'\n            ); /** 10% */\n          }\n        }\n\n        let infoColor: string;\n        let fadedInfoColor: string;\n        let fadedTwiceInfoColor: string;\n        let tempInfoColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-info-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempInfoColor.match(colorRegExp)) {\n          console.error('Error parsing info color', tempInfoColor);\n          infoColor = '#086dd6';\n          fadedInfoColor = '#086dd666'; /** 40% */\n          fadedTwiceInfoColor = '#086dd633'; /** 20% */\n        } else {\n          infoColor = tempInfoColor;\n          /** You only need to test for one */\n          if (!tempInfoColor.concat('66').match(colorRegExp)) {\n            fadedInfoColor = '#086dd666';\n            fadedTwiceInfoColor = '#086dd633';\n          } else {\n            fadedInfoColor = tempInfoColor.concat('66'); // This is 40% opacity\n            fadedTwiceInfoColor = tempInfoColor.concat('33'); // This is 20% opacity\n          }\n        }\n\n        let shadowColor: string;\n        let tempShadowColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-shadow-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempShadowColor.match(colorRegExp)) {\n          console.error('Error parsing shadow color', tempShadowColor);\n          shadowColor = '#C8C8C8'; // Gray shadow\n        } else {\n          shadowColor = tempShadowColor;\n        }\n\n        let warningColor: string;\n        let tempWarningColor = getComputedStyle(document.documentElement)\n          .getPropertyValue('--sn-stylekit-warning-color')\n          .replace(whiteSpaceRegExp, '');\n        if (!tempWarningColor.match(colorRegExp)) {\n          console.error('Error parsing warning color', tempWarningColor);\n          warningColor = '#f6a200'; // Orange\n        } else {\n          warningColor = tempWarningColor;\n        }\n\n        let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)')\n          .matches;\n        monaco.editor.defineTheme('sn-theme', {\n          /** If sn-theme, then if not dark mode, use vs. Otherwise, use vs-dark (default) */\n          base: !isDarkMode ? 'vs' : 'vs-dark',\n          inherit: true,\n          rules: [\n            {\n              token: '',\n              background: backgroundColor,\n              foreground: foregroundColor,\n            },\n          ],\n          colors: {\n            /** Ordered in mostly alphabetical order */\n            //foreground: foregroundColor /* Overall foreground color. This color is only used if not overridden by a component.\n\n            'button.background': backgroundColor, // Button background color.\n            'button.foreground': foregroundColor, // Button foreground color.\n            'button.hoverBackground': contrastBackgroundColor, // Button background color when hovering.\n\n            /** This is what you see when you right click */\n            'dropdown.background': contrastBackgroundColor, // Dropdown background.\n            'dropdown.border': borderColor, // Dropdown border.\n            'dropdown.foreground': foregroundColor, // Dropdown foreground.,\n\n            'editor.background': backgroundColor, //\n            'editor.foreground': foregroundColor, //\n            'editor.inactiveSelectionBackground': fadedTwiceInfoColor, // Color of the selection in an inactive editor.\n            'editor.lineHighlightBorder': fadedTwiceForegroundColor, // Background color for the border around the line at the cursor position.\n            'editor.selectionBackground': fadedInfoColor, // Color of the editor selection.\n\n            'editorCursor.foreground': fadedForegroundColor, //Color of the editor cursor.\n            'editorError.foreground': dangerColor, // Foreground color of error squigglies in the editor.\n\n            'editorLineNumber.foreground': fadedForegroundColor, // Color of editor line numbers.\n            'editorLink.activeForeground': infoColor, // Color of active links. Such as when you press ctrl when hovering over a link\n\n            'editorWidget.background': contrastBackgroundColor, // Background color of editor widgets, such as find/replace.\n            'editorWidget.border': borderColor, // Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.\n            'editorWarning.foreground': warningColor, // Foreground color of warning squigglies in the editor.\n\n            focusBorder: infoColor, // Overall border color for focused elements. This color is only used if not overridden by a component.\n\n            'input.background': backgroundColor, //,// Input box background.\n            'input.border': borderColor, // Input box border.\n            'input.foreground': foregroundColor, // Input box foreground.\n\n            'list.focusBackground': fadedInfoColor, // List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\n            'list.focusForeground': foregroundColor, // List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\n            'list.activeSelectionBackground': fadedInfoColor, // List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\n            'list.activeSelectionForeground': foregroundColor, // List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.\n            'list.inactiveSelectionBackground': backgroundColor, // List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.\n            'list.inactiveSelectionForeground': foregroundColor, // List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.\n            'list.hoverBackground': backgroundColor, // List/Tree background when hovering over items using the mouse.\n            'list.hoverForeground': foregroundColor, // List/Tree foreground when hovering over items using the mouse.\n            'list.dropBackground': backgroundColor, // List/Tree drag and drop background when moving items around using the mouse.\n            'list.highlightForeground': foregroundColor, // List/Tree foreground color of the match highlights when searching inside the list/tree.\n\n            'textLink.activeForeground': infoColor, // Foreground color for active links in text. // Not sure where this is used.\n            'textLink.foreground': infoColor, // Foreground color for links in text (such as \"Follow Link\")\n\n            'widget.shadow': shadowColor, // Shadow color of widgets such as find/replace inside the editor.\n          },\n        });\n        monaco.editor.setTheme(theme);\n      };\n\n      if (theme === 'sn-theme') {\n        defineSnTheme();\n      }\n\n      editor = monaco.editor.create(divEl.current, {\n        // These are variable: customizable by user or dependent on props\n        fontFamily: 'var(--sn-stylekit-monospace-font)',\n        fontSize: parseInt(fontSize.replace('px', '')),\n        language: language,\n        minimap: {\n          enabled: minimap,\n        },\n        tabSize: tabSize,\n        theme: theme,\n        //@ts-ignore\n        wordWrap: wordWrap,\n\n        value: [text].join('\\n'),\n\n        // These are not customizable\n        autoClosingOvertype: 'auto',\n        formatOnPaste: true,\n        formatOnType: true,\n        wrappingStrategy: 'advanced',\n      });\n\n      // Keyboard Events\n      editor.onKeyDown((e: monaco.IKeyboardEvent) => {\n        if (e.ctrlKey && e.code === 'KeyS') {\n          e.preventDefault();\n        } else if (e.shiftKey && e.altKey && e.code === 'KeyF') {\n          /** Format code */\n          e.preventDefault();\n          const previousPosition = lastPosition;\n          const formattedText = makePrettier(language, editor.getValue());\n          if (formattedText) {\n            editor.setValue(formattedText);\n          }\n          lastPosition = previousPosition;\n          if (lastPosition) {\n            editor.revealLineInCenterIfOutsideViewport(lastPosition.lineNumber);\n            editor.setPosition(lastPosition);\n          }\n        }\n        onKeyDownDebug(e.code, debugMode);\n        onKeyDown(e);\n      });\n\n      editor.onKeyUp((e: monaco.IKeyboardEvent) => {\n        onKeyUpDebug(e.code, debugMode);\n      });\n\n      // Content Change Events\n      editor.onDidChangeModelContent(\n        (e: monaco.editor.IModelContentChangedEvent) => {\n          if (saveText) {\n            saveText(editor.getValue());\n          }\n        }\n      );\n\n      editor.onDidChangeCursorPosition(\n        (e: monaco.editor.ICursorPositionChangedEvent) => {\n          let pos = editor.getPosition();\n          if (pos) {\n            lastPosition = pos;\n          }\n        }\n      );\n\n      editor.onDidFocusEditorWidget(() => {\n        wasEditorFocused = true;\n\n        /** If the theme has changed or dark mode has changed, redefine the sn-theme */\n        let currentBackgroundColor = getComputedStyle(\n          document.documentElement\n        ).getPropertyValue('--sn-stylekit-background-color');\n        let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)')\n          .matches;\n        if (\n          lastBackgroundColor !== currentBackgroundColor ||\n          lastDarkMode !== isDarkMode\n        ) {\n          lastBackgroundColor = currentBackgroundColor;\n          lastDarkMode = isDarkMode;\n          defineSnTheme();\n        }\n      });\n\n      editor.onDidBlurEditorWidget(() => {\n        wasEditorFocused = false;\n      });\n\n      if (lastPosition) {\n        editor.revealLineInCenterIfOutsideViewport(lastPosition.lineNumber);\n        editor.setPosition(lastPosition);\n      }\n      /* If editor was previously focused, or is loaded the first time, focus again */\n      if (wasEditorFocused || refreshTokenEditor !== lastRefreshToken) {\n        lastRefreshToken = refreshTokenEditor;\n        editor.focus();\n      }\n    }\n    return () => {\n      editor.dispose();\n    };\n    /** Do not include text so useEffect doesn't activate on each edit\n     * A change in these things will cause a refresh of the editor.\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    fontSize,\n    language,\n    minimap,\n    refreshTokenEditor,\n    tabSize,\n    theme,\n    wordWrap,\n  ]);\n  return (\n    <div\n      id={id}\n      className={HtmlClassName.MonacoEditorContainer + ' ' + theme}\n      ref={divEl}\n    ></div>\n  );\n};\n\n/** For the Diff Editor Feature */\ninterface MonacoDiffEditorTypes extends MonacoEditorTypes {\n  modifiedText: string;\n}\n\nexport const MonacoDiffEditor: React.FC<MonacoDiffEditorTypes> = ({\n  fontSize = '16',\n  id = MonacoDiffEditorContainerID,\n  language = 'markdown',\n  saveText,\n  text,\n  modifiedText,\n  theme = 'vs-dark',\n}) => {\n  const divEl = useRef<HTMLDivElement>(null);\n\n  if (fontSize === '') {\n    fontSize = '16px';\n  }\n\n  useEffect(() => {\n    if (divEl.current) {\n      const originalModel = monaco.editor.createModel(\n        [text].join('\\n'),\n        language\n      );\n      const modifiedModel = monaco.editor.createModel(\n        [modifiedText].join('\\n'),\n        language\n      );\n\n      diffEditor = monaco.editor.createDiffEditor(divEl.current, {\n        // Same settings as above\n        // These are variable: customizable by user or dependent on props\n        fontSize: parseInt(fontSize.replace('px', '')),\n        theme: theme,\n\n        // These are not customizable\n        autoClosingOvertype: 'auto',\n        formatOnPaste: true,\n        formatOnType: true,\n        wordWrap: 'on',\n        wrappingStrategy: 'advanced',\n\n        // Specific to Diff Editor\n        originalEditable: true, // for left panel\n        readOnly: true, // for right panel\n      });\n      diffEditor.setModel({\n        original: originalModel,\n        modified: modifiedModel,\n      });\n\n      // Content Change Events\n      originalModel.onDidChangeContent(\n        (e: monaco.editor.IModelContentChangedEvent) => {\n          if (saveText) {\n            saveText(originalModel.getValue());\n          }\n        }\n      );\n    }\n    return () => {\n      diffEditor.dispose();\n    };\n    /** Do not include text so the editor doesn't refresh on each edit */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fontSize, language, modifiedText, theme]);\n  return (\n    <div id={id} className={MonacoDiffEditorContainerID} ref={divEl}></div>\n  );\n};\n\ninterface ViewProps {\n  language: string;\n  refreshTokenView: boolean;\n  text: string;\n}\n\nlet lastLanguage: string;\nexport const View: React.FC<ViewProps> = ({\n  language,\n  refreshTokenView, // used to manually refresh the markdown\n  text,\n}) => {\n  const [markdown, updateMarkdown] = useState(\n    renderMarkdown(getCodeText(language, text))\n  );\n  useEffect(() => {\n    if (lastLanguage !== language) {\n      lastLanguage = language;\n      renderMarkdown.cancel();\n      renderMarkdown(getCodeText(language, text));\n      renderMarkdown.flush();\n    }\n    updateMarkdown(renderMarkdown(getCodeText(language, text)));\n  }, [language, text, refreshTokenView]);\n  return <div id={HtmlElementId.viewContainer}>{markdown}</div>;\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nconst infoColor = 'var(--sn-stylekit-info-color)';\nconst foregroundColor = 'var(--sn-stylekit-foreground-color)';\n\ninterface Icons {\n  condition?: boolean;\n  fill?: string;\n  role: string;\n}\n\nexport const ChevronIconDown: React.FC<Icons> = ({ fill, role }) => (\n  <span className=\"chevron-icon down\">\n    <svg\n      aria-label=\"chevron icon down\"\n      role={role}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.17622 7.15015L10.0012 10.9751L13.8262 7.15015L15.0012 8.33348L10.0012 13.3335L5.00122 8.33348L6.17622 7.15015Z\"\n        fill={fill ? fill : foregroundColor}\n      />\n    </svg>\n  </span>\n);\n\nexport const ChevronIconRight: React.FC<Icons> = ({ fill, role }) => (\n  <span className=\"chevron-icon right\">\n    <svg\n      aria-label=\"chevron icon down\"\n      role={role}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M6.90918 14.0667L10.7342 10.2417L6.90918 6.4167L8.09251 5.2417L13.0925 10.2417L8.09251 15.2417L6.90918 14.0667Z\"\n        fill={fill ? fill : foregroundColor}\n      />\n    </svg>\n  </span>\n);\n\nexport const CloseIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"close icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M15.2459 5.92917C15.5704 5.6047 15.5704 5.07864 15.2459 4.75417C14.9214 4.4297 14.3954 4.4297 14.0709 4.75417L10.0001 8.82501L5.92925 4.75417C5.60478 4.4297 5.07872 4.4297 4.75425 4.75417C4.42978 5.07864 4.42978 5.6047 4.75425 5.92917L8.82508 10L4.75425 14.0708C4.42978 14.3953 4.42978 14.9214 4.75425 15.2458C5.07872 15.5703 5.60478 15.5703 5.92925 15.2458L10.0001 11.175L14.0709 15.2458C14.3954 15.5703 14.9214 15.5703 15.2459 15.2458C15.5704 14.9214 15.5704 14.3953 15.2459 14.0708L11.1751 10L15.2459 5.92917Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const EyeIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"eye icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.99992 7.5C9.33688 7.5 8.70099 7.76339 8.23215 8.23223C7.76331 8.70107 7.49992 9.33696 7.49992 10C7.49992 10.663 7.76331 11.2989 8.23215 11.7678C8.70099 12.2366 9.33688 12.5 9.99992 12.5C10.663 12.5 11.2988 12.2366 11.7677 11.7678C12.2365 11.2989 12.4999 10.663 12.4999 10C12.4999 9.33696 12.2365 8.70107 11.7677 8.23223C11.2988 7.76339 10.663 7.5 9.99992 7.5ZM9.99992 14.1667C8.89485 14.1667 7.83504 13.7277 7.05364 12.9463C6.27224 12.1649 5.83325 11.1051 5.83325 10C5.83325 8.89493 6.27224 7.83512 7.05364 7.05372C7.83504 6.27232 8.89485 5.83333 9.99992 5.83333C11.105 5.83333 12.1648 6.27232 12.9462 7.05372C13.7276 7.83512 14.1666 8.89493 14.1666 10C14.1666 11.1051 13.7276 12.1649 12.9462 12.9463C12.1648 13.7277 11.105 14.1667 9.99992 14.1667ZM9.99992 3.75C5.83325 3.75 2.27492 6.34167 0.833252 10C2.27492 13.6583 5.83325 16.25 9.99992 16.25C14.1666 16.25 17.7249 13.6583 19.1666 10C17.7249 6.34167 14.1666 3.75 9.99992 3.75Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const GearIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"gear icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.0001 6.66675C10.8842 6.66675 11.732 7.01794 12.3571 7.64306C12.9823 8.26818 13.3334 9.11603 13.3334 10.0001C13.3334 10.8841 12.9823 11.732 12.3571 12.3571C11.732 12.9822 10.8842 13.3334 10.0001 13.3334C9.11606 13.3334 8.26821 12.9822 7.64309 12.3571C7.01797 11.732 6.66678 10.8841 6.66678 10.0001C6.66678 9.11603 7.01797 8.26818 7.64309 7.64306C8.26821 7.01794 9.11606 6.66675 10.0001 6.66675ZM10.0001 8.33342C9.55808 8.33342 9.13416 8.50901 8.8216 8.82157C8.50904 9.13413 8.33344 9.55805 8.33344 10.0001C8.33344 10.4421 8.50904 10.866 8.8216 11.1786C9.13416 11.4912 9.55808 11.6667 10.0001 11.6667C10.4421 11.6667 10.8661 11.4912 11.1786 11.1786C11.4912 10.866 11.6668 10.4421 11.6668 10.0001C11.6668 9.55805 11.4912 9.13413 11.1786 8.82157C10.8661 8.50901 10.4421 8.33342 10.0001 8.33342ZM8.33344 18.3334C8.12511 18.3334 7.95011 18.1834 7.91678 17.9834L7.60844 15.7751C7.08344 15.5667 6.63344 15.2834 6.20011 14.9501L4.12511 15.7917C3.94178 15.8584 3.71678 15.7917 3.61678 15.6084L1.95011 12.7251C1.84178 12.5417 1.89178 12.3167 2.05011 12.1917L3.80844 10.8084L3.75011 10.0001L3.80844 9.16675L2.05011 7.80841C1.89178 7.68341 1.84178 7.45841 1.95011 7.27508L3.61678 4.39175C3.71678 4.20841 3.94178 4.13341 4.12511 4.20842L6.20011 5.04175C6.63344 4.71675 7.08344 4.43341 7.60844 4.22508L7.91678 2.01675C7.95011 1.81675 8.12511 1.66675 8.33344 1.66675H11.6668C11.8751 1.66675 12.0501 1.81675 12.0834 2.01675L12.3918 4.22508C12.9168 4.43341 13.3668 4.71675 13.8001 5.04175L15.8751 4.20842C16.0584 4.13341 16.2834 4.20841 16.3834 4.39175L18.0501 7.27508C18.1584 7.45841 18.1084 7.68341 17.9501 7.80841L16.1918 9.16675L16.2501 10.0001L16.1918 10.8334L17.9501 12.1917C18.1084 12.3167 18.1584 12.5417 18.0501 12.7251L16.3834 15.6084C16.2834 15.7917 16.0584 15.8667 15.8751 15.7917L13.8001 14.9584C13.3668 15.2834 12.9168 15.5667 12.3918 15.7751L12.0834 17.9834C12.0501 18.1834 11.8751 18.3334 11.6668 18.3334H8.33344ZM9.37511 3.33341L9.06678 5.50841C8.06678 5.71675 7.18344 6.25008 6.54178 6.99175L4.53344 6.12508L3.90844 7.20841L5.66678 8.50008C5.33344 9.47508 5.33344 10.5334 5.66678 11.5001L3.90011 12.8001L4.52511 13.8834L6.55011 13.0167C7.19178 13.7501 8.06678 14.2834 9.05844 14.4834L9.36678 16.6667H10.6334L10.9418 14.4917C11.9334 14.2834 12.8084 13.7501 13.4501 13.0167L15.4751 13.8834L16.1001 12.8001L14.3334 11.5084C14.6668 10.5334 14.6668 9.47508 14.3334 8.50008L16.0918 7.20841L15.4668 6.12508L13.4584 6.99175C12.8168 6.25008 11.9334 5.71675 10.9334 5.51675L10.6251 3.33341H9.37511Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const PencilIcon: React.FC<Icons> = ({ condition, fill, role }) => (\n  <svg\n    aria-label=\"pencil icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M11.7167 7.5L12.5 8.28333L4.93333 15.8333H4.16667V15.0667L11.7167 7.5ZM14.7167 2.5C14.5083 2.5 14.2917 2.58333 14.1333 2.74167L12.6083 4.26667L15.7333 7.39167L17.2583 5.86667C17.5833 5.54167 17.5833 5 17.2583 4.69167L15.3083 2.74167C15.1417 2.575 14.9333 2.5 14.7167 2.5ZM11.7167 5.15833L2.5 14.375V17.5H5.625L14.8417 8.28333L11.7167 5.15833Z\"\n      fill={fill ? fill : condition ? infoColor : foregroundColor}\n    />\n  </svg>\n);\n\nexport const PrintIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"print icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M15.0001 2.5H5.00008V5.83333H15.0001V2.5ZM15.8334 10C15.6124 10 15.4004 9.9122 15.2442 9.75592C15.0879 9.59964 15.0001 9.38768 15.0001 9.16667C15.0001 8.94565 15.0879 8.73369 15.2442 8.57741C15.4004 8.42113 15.6124 8.33333 15.8334 8.33333C16.0544 8.33333 16.2664 8.42113 16.4227 8.57741C16.579 8.73369 16.6668 8.94565 16.6668 9.16667C16.6668 9.38768 16.579 9.59964 16.4227 9.75592C16.2664 9.9122 16.0544 10 15.8334 10ZM13.3334 15.8333H6.66675V11.6667H13.3334V15.8333ZM15.8334 6.66667H4.16675C3.50371 6.66667 2.86782 6.93006 2.39898 7.3989C1.93014 7.86774 1.66675 8.50363 1.66675 9.16667V14.1667H5.00008V17.5H15.0001V14.1667H18.3334V9.16667C18.3334 8.50363 18.07 7.86774 17.6012 7.3989C17.1323 6.93006 16.4965 6.66667 15.8334 6.66667Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const RefreshIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"refresh icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.99992 14.9999C8.67384 14.9999 7.40207 14.4731 6.46438 13.5355C5.5267 12.5978 4.99992 11.326 4.99992 9.99992C4.99992 9.16658 5.20825 8.35825 5.58325 7.66658L4.36659 6.44992C3.71659 7.47492 3.33325 8.69158 3.33325 9.99992C3.33325 11.768 4.03563 13.4637 5.28587 14.714C6.53612 15.9642 8.23181 16.6666 9.99992 16.6666V19.1666L13.3333 15.8332L9.99992 12.4999V14.9999ZM9.99992 3.33325V0.833252L6.66658 4.16658L9.99992 7.49992V4.99992C11.326 4.99992 12.5978 5.5267 13.5355 6.46438C14.4731 7.40207 14.9999 8.67383 14.9999 9.99992C14.9999 10.8333 14.7916 11.6416 14.4166 12.3333L15.6333 13.5499C16.2833 12.5249 16.6666 11.3083 16.6666 9.99992C16.6666 8.23181 15.9642 6.53612 14.714 5.28587C13.4637 4.03563 11.768 3.33325 9.99992 3.33325Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const SaveIcon: React.FC<Icons> = ({ fill, role }) => (\n  <span className=\"save-icon\">\n    <svg\n      aria-label=\"save icon\"\n      role={role}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M14.1667 2.5H4.16667C3.24167 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.24167 17.5 4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V5.83333L14.1667 2.5ZM15.8333 15.8333H4.16667V4.16667H13.475L15.8333 6.525V15.8333ZM10 10C8.61667 10 7.5 11.1167 7.5 12.5C7.5 13.8833 8.61667 15 10 15C11.3833 15 12.5 13.8833 12.5 12.5C12.5 11.1167 11.3833 10 10 10ZM5 5H12.5V8.33333H5V5Z\"\n        fill={fill ? fill : foregroundColor}\n      />\n    </svg>\n  </span>\n);\n\nexport const UndoIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"undo icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M10.1812 7.66667C8.36883 7.66667 6.72741 8.33333 5.46214 9.4L3 7V13H9.15535L6.67953 10.5867C7.63019 9.81333 8.84074 9.33333 10.1812 9.33333C12.6023 9.33333 14.661 10.8733 15.3791 13L17 12.48C16.0493 9.68667 13.3615 7.66667 10.1812 7.66667Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const WindowIcon: React.FC<Icons> = ({ fill, role }) => (\n  <span className=\"window-icon\">\n    <svg\n      aria-label=\"window icon\"\n      role={role}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M3.33333 3.33333H16.6667V16.6667H3.33333V3.33333ZM5 6.66666V15H15V6.66666H5Z\"\n        fill={fill ? fill : foregroundColor}\n      />\n    </svg>\n  </span>\n);\n","import React from 'react';\nimport {\n  ChevronIconDown,\n  ChevronIconRight,\n  EyeIcon,\n  PencilIcon,\n  PrintIcon,\n  RefreshIcon,\n  SaveIcon,\n  WindowIcon,\n} from './Icons';\n\nimport { HtmlElementId, SettingsInterface } from './Editor';\n\ninterface SettingsProps extends SettingsInterface {\n  confirmPrintUrl: () => void;\n  debugMode: boolean;\n  editMode: boolean;\n  handleInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  handleSelectChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n  loadDefaultSettings: (callback: () => void) => void;\n  refreshEditor: () => void;\n  saveSettings: () => void;\n  saveDefaultSettings: () => void;\n  showSettings: boolean;\n  toggleEditMode: () => void;\n  toggleShowSettings: () => void;\n  toggleViewMode: () => void;\n  viewMode: boolean;\n}\n\ninterface SettingsState {\n  [x: string]: string | number | boolean;\n}\n\nexport default class Settings extends React.Component<\n  SettingsProps,\n  SettingsState\n> {\n  constructor(props: SettingsProps) {\n    super(props);\n    this.state = {};\n  }\n\n  onFocus = () => {\n    const settings = document.getElementById(HtmlElementId.settings);\n    if (settings) {\n      settings.classList.add('focused');\n    }\n  };\n\n  onBlur = () => {\n    const settings = document.getElementById(HtmlElementId.settings);\n    if (settings) {\n      settings.classList.remove('focused');\n    }\n  };\n\n  loadDefaultSettings = () => {\n    const callback = () => {\n      /** Save settings after loading the default settings */\n      this.props.saveSettings();\n    };\n    this.props.loadDefaultSettings(callback);\n  };\n\n  render() {\n    return (\n      <div\n        id={HtmlElementId.settings}\n        className={this.props.showSettings ? 'show ' : 'hide '}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n      >\n        <section className=\"settings buttons\">\n          <button\n            className={'sk-button button sk-secondary-contrast'}\n            key={HtmlElementId.buttonRefreshEditor}\n            id={HtmlElementId.buttonRefreshEditor}\n            onClick={this.props.refreshEditor}\n            title=\"Refresh and resize the editor\"\n          >\n            <WindowIcon role={'button'} />\n          </button>\n          <button\n            className={'sk-button button sk-secondary-contrast'}\n            key={HtmlElementId.buttonToggleEditMode}\n            id={HtmlElementId.buttonToggleEditMode}\n            onClick={this.props.toggleEditMode}\n            title=\"Toggle Edit Mode\"\n          >\n            <PencilIcon condition={this.props.editMode} role={'button'} />\n          </button>\n          <button\n            className={'sk-button button sk-secondary-contrast'}\n            key={HtmlElementId.buttonToggleViewMode}\n            id={HtmlElementId.buttonToggleViewMode}\n            onClick={this.props.toggleViewMode}\n            title=\"Toggle View Mode\"\n          >\n            <EyeIcon condition={this.props.viewMode} role={'button'} />\n          </button>\n          <button\n            className={'sk-button button sk-secondary-contrast'}\n            key={HtmlElementId.buttonPrint}\n            id={HtmlElementId.buttonPrint}\n            onClick={this.props.confirmPrintUrl}\n            title=\"Print rendered note\"\n          >\n            <PrintIcon role={'button'} />\n          </button>\n          {!this.props.showSettings && (\n            <button\n              className={'sk-button button sk-secondary-contrast'}\n              id={HtmlElementId.settingsToggleButton}\n              onClick={this.props.toggleShowSettings}\n              title={'Show Settings'}\n            >\n              <ChevronIconRight role={'button'} />\n            </button>\n          )}\n          {this.props.showSettings && (\n            <button\n              className={'sk-button button sk-secondary-contrast'}\n              id={HtmlElementId.settingsToggleButton}\n              onClick={this.props.toggleShowSettings}\n              title={'Hide Settings'}\n            >\n              <ChevronIconDown role={'button'} />\n            </button>\n          )}\n        </section>\n        {this.props.showSettings && [\n          <section className=\"settings language\" key={HtmlElementId.language}>\n            <label\n              htmlFor={HtmlElementId.language}\n              title={'Programming language. Default is Markdown'}\n            >\n              Language:&nbsp;\n            </label>\n            <div>\n              <select\n                id={HtmlElementId.language}\n                name={HtmlElementId.language}\n                onChange={this.props.handleSelectChange}\n                title={'Programming language. Default is Markdown'}\n                value={this.props.language}\n              >\n                <option>abap</option>\n                <option>aes</option>\n                <option>apex</option>\n                <option>azcli</option>\n                <option>bat</option>\n                <option>c</option>\n                <option>cameligo</option>\n                <option>clojure</option>\n                <option>coffeescript</option>\n                <option>cpp</option>\n                <option>csharp</option>\n                <option>csp</option>\n                <option>css</option>\n                <option>dart</option>\n                <option>dockerfile</option>\n                <option>fsharp</option>\n                <option>go</option>\n                <option>graphql</option>\n                <option>handlebars</option>\n                <option>hcl</option>\n                <option>html</option>\n                <option>ini</option>\n                <option>java</option>\n                <option>javascript</option>\n                <option>json</option>\n                <option>julia</option>\n                <option>kotlin</option>\n                <option>less</option>\n                <option>lexon</option>\n                <option>lua</option>\n                <option>markdown</option>\n                <option>mips</option>\n                <option>msdax</option>\n                <option>mysql</option>\n                <option>objective-c</option>\n                <option>pascal</option>\n                <option>pascaligo</option>\n                <option>perl</option>\n                <option>pgsql</option>\n                <option>php</option>\n                <option>plaintext</option>\n                <option>postiats</option>\n                <option>powerquery</option>\n                <option>powershell</option>\n                <option>pug</option>\n                <option>python</option>\n                <option>r</option>\n                <option>razor</option>\n                <option>redis</option>\n                <option>redshift</option>\n                <option>restructuredtext</option>\n                <option>ruby</option>\n                <option>rust</option>\n                <option>sb</option>\n                <option>scala</option>\n                <option>scheme</option>\n                <option>scss</option>\n                <option>shell</option>\n                <option>sol</option>\n                <option>sql</option>\n                <option>st</option>\n                <option>swift</option>\n                <option>systemverilog</option>\n                <option>tcl</option>\n                <option>twig</option>\n                <option>typescript</option>\n                <option>vb</option>\n                <option>verilog</option>\n                <option>xml</option>\n                <option>yaml</option>\n              </select>\n            </div>\n          </section>,\n          <section className=\"settings\" key={HtmlElementId.fontSize}>\n            <label\n              htmlFor={HtmlElementId.fontSize}\n              title={'Font size in pixels. Default is 16px (12pt)'}\n            >\n              Font size:&nbsp;\n            </label>\n            <div className=\"settings-input\">\n              <select\n                id={HtmlElementId.fontSize}\n                name={HtmlElementId.fontSize}\n                onChange={this.props.handleSelectChange}\n                title={'Font size in pixels. Default is 16px (12pt)'}\n                value={this.props.fontSize}\n              >\n                <option>12px</option>\n                <option>13px</option>\n                <option>14px</option>\n                <option>15px</option>\n                <option>16px</option>\n                <option>17px</option>\n                <option>18px</option>\n                <option>19px</option>\n                <option>20px</option>\n                <option>21px</option>\n                <option>22px</option>\n                <option>23px</option>\n                <option>24px</option>\n                <option>25px</option>\n                <option>26px</option>\n              </select>\n            </div>\n          </section>,\n          <section className=\"settings\" key={HtmlElementId.tabSize}>\n            <label\n              htmlFor={HtmlElementId.tabSize}\n              title={\n                'Number of spaces inserted when you press Tab. Default is 2'\n              }\n            >\n              Tab size:&nbsp;\n            </label>\n            <div className=\"settings-input\">\n              <select\n                id={HtmlElementId.tabSize}\n                name={HtmlElementId.tabSize}\n                onChange={this.props.handleSelectChange}\n                title={\n                  'Number of spaces inserted when you press Tab. Default is 2'\n                }\n                value={this.props.tabSize}\n              >\n                <option>2</option>\n                <option>4</option>\n              </select>\n            </div>\n          </section>,\n          <section className=\"settings\" key={HtmlElementId.minimap}>\n            <label\n              htmlFor={HtmlElementId.minimap}\n              title={'Toggle show minimap. Default is on (checked)'}\n            >\n              Minimap:&nbsp;\n            </label>\n            <div className=\"settings-input\">\n              <label className={'checkbox-input-label'}>\n                <input\n                  checked={this.props.minimap}\n                  id={HtmlElementId.minimap}\n                  name={HtmlElementId.minimap}\n                  title={'Toggle show minimap. Default is on (checked)'}\n                  type=\"checkbox\"\n                  onChange={this.props.handleInputChange}\n                />\n              </label>\n            </div>\n          </section>,\n          <section className=\"settings\" key={HtmlElementId.theme}>\n            <label\n              htmlFor={HtmlElementId.theme}\n              title={'Theme for your code editor. Default is sn-theme'}\n            >\n              Theme:&nbsp;\n            </label>\n            <div className=\"settings-input\">\n              <select\n                id={HtmlElementId.theme}\n                name={HtmlElementId.theme}\n                onChange={this.props.handleSelectChange}\n                title={'Theme for your code editor. Default is sn-theme'}\n                value={this.props.theme}\n              >\n                <option>vs</option>\n                <option>vs-dark</option>\n                <option>hc-black</option>\n                <option>sn-theme</option>\n              </select>\n            </div>\n          </section>,\n          <section className=\"settings\" key={HtmlElementId.wordWrap}>\n            <label\n              htmlFor={HtmlElementId.wordWrap}\n              title={'Option to wrap long lines of text. Default is on'}\n            >\n              Word wrap:&nbsp;\n            </label>\n            <div className=\"settings-input\">\n              <select\n                id={HtmlElementId.wordWrap}\n                name={HtmlElementId.wordWrap}\n                onChange={this.props.handleSelectChange}\n                title={'Option to wrap long lines of text. Default is on'}\n                value={this.props.wordWrap}\n              >\n                <option>on</option>\n                <option>off</option>\n                <option>bounded</option>\n              </select>\n            </div>\n          </section>,\n        ]}\n        <section className=\"settings buttons\">\n          {this.props.showSettings && [\n            <button\n              className={'sk-button button sk-secondary-contrast'}\n              key={HtmlElementId.buttonSaveSettings}\n              id={HtmlElementId.buttonSaveSettings}\n              onClick={this.props.saveDefaultSettings}\n              title=\"Save current settings as your personal default\"\n            >\n              <SaveIcon role={'button'} />\n            </button>,\n            <button\n              className={'sk-button button sk-secondary-contrast'}\n              key={HtmlElementId.buttonLoadSettings}\n              id={HtmlElementId.buttonLoadSettings}\n              onClick={this.loadDefaultSettings}\n              title=\"Load your personal default settings\"\n            >\n              <RefreshIcon role={'button'} />\n            </button>,\n          ]}\n        </section>\n      </div>\n    );\n  }\n}\n","import React, { ReactNode } from 'react';\nimport unified from 'unified';\nimport parse from 'remark-parse';\nimport remark2rehype from 'remark-rehype';\nimport rehype2react from 'rehype-react';\nimport { debounce } from 'lodash';\n\n// Remark\nconst breaks = require('remark-breaks');\nconst externalLinks = require('remark-external-links');\nconst footnotes = require('remark-footnotes');\nconst gfm = require('remark-gfm');\nconst gemoji = require('remark-gemoji');\nconst math = require('remark-math');\nconst slug = require('remark-slug');\nconst toc = require('remark-toc');\n\n// Rehype\nconst highlight = require('rehype-highlight');\nconst rehypeKatex = require('rehype-katex');\nconst raw = require('rehype-raw');\n\nconst processor = unified()\n  .use(parse)\n  .use(gfm)\n  .use(breaks)\n  .use(slug)\n  .use(toc, { maxDepth: 6 })\n  .use(externalLinks)\n  .use(footnotes, { inlineNotes: true })\n  .use(gemoji)\n  .use(remark2rehype, { allowDangerousHtml: true })\n  .use(raw)\n  .use(math)\n  .use(rehypeKatex)\n  .use(highlight, { ignoreMissing: true })\n  .use(rehype2react, { createElement: React.createElement });\n\nexport const processMarkdown = (text: string) => {\n  //console.log('processedMarkdown');\n  const markdown = processor.processSync(text).result as ReactNode;\n  return markdown;\n};\n\n/** Debounce the rendering of markdown to prevent lag\n * when rendering long notes or lots of Markdown or KaTeX */\nexport const renderMarkdown = debounce((text: string): React.ReactNode => {\n  //console.log('renderMarkdown', text.substring(0, 10));\n  const markdown = processMarkdown(text);\n  return markdown;\n}, 500);\n\nexport const getCodeText = (language: string, text: string): string => {\n  if (language !== 'markdown' && language !== 'html' && text) {\n    return '```' + language + '\\n' + text + '\\n```';\n  } else {\n    return text;\n  }\n};\n","import React, { ErrorInfo } from 'react';\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error?: Error;\n  errorInfo?: ErrorInfo;\n}\n\n/**\n * Learn more about Error Boundaries here:\n * https://reactjs.org/docs/error-boundaries.html\n */\n\nexport default class ErrorBoundary extends React.Component<\n  any,\n  ErrorBoundaryState\n> {\n  constructor(props: any) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // You can also log the error to an error reporting service\n    console.error('Error:', error, '\\nError Info:', errorInfo);\n    this.setState({\n      error,\n      errorInfo,\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <div className=\"error-boundary\">\n          <h1>Something went wrong.</h1>\n          <p>\n            Error Name: <code>{this.state.error?.name}</code>\n          </p>\n          <p>\n            Error Message: <code>{this.state.error?.message}</code>\n          </p>\n          <p>\n            Error Info: <code>{this.state.errorInfo}</code>\n          </p>\n          <p>Please see the developer console for details.</p>\n          <hr></hr>\n          <p>\n            If the error persists and is not related to the content of your\n            note, then please{' '}\n            <a\n              href=\"https://github.com/standardnotes/code-pro/issues/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              report the issue on GitHub\n            </a>{' '}\n            and we will try to fix it.\n          </p>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","// import { Method } from '@testing-library/react';\nimport React from 'react';\nimport { CloseIcon } from './Icons';\nimport { HtmlElementId } from './Editor';\n\ninterface PrintDialogTypes {\n  cancelText: string;\n  confirmText: string;\n  helpLink: string;\n  onCancel: () => void;\n  onConfirm: () => void;\n  onUndo: () => void;\n  title: string;\n}\n\nconst PrintDialog: React.FC<PrintDialogTypes> = ({\n  cancelText,\n  confirmText,\n  helpLink,\n  onCancel,\n  onConfirm,\n  onUndo,\n  title,\n}) => (\n  <div className=\"note-overlay\">\n    <div className=\"sk-panel note-dialog\">\n      <div className=\"sk-panel-content\">\n        <div className=\"sk-panel-section\">\n          <div className=\"sk-panel-row title-section\">\n            <h2>{title}</h2>\n            <button\n              id={HtmlElementId.buttonCancel}\n              className={'inline-text-and-svg'}\n              onClick={onUndo}\n              title=\"Close\"\n            >\n              <span>&nbsp;</span>\n              <CloseIcon role=\"button\" />\n              <span>&nbsp;</span>\n            </button>\n          </div>\n          <p>\n            Need help deciding? Check out the{' '}\n            <a href={helpLink} target=\"_blank\" rel=\"noopener noreferrer\">\n              documentation\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n      <div className=\"sk-panel-footer\">\n        <div className=\"sk-button-group stretch\">\n          <button className=\"sk-button neutral\" onClick={onCancel}>\n            <div>{cancelText}</div>\n          </button>\n          <button className=\"sk-button info\" onClick={onConfirm}>\n            <div>{confirmText}</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default PrintDialog;\n","/** Prettier */\nimport prettier from 'prettier';\nimport parserBabel from 'prettier/parser-babel';\nimport parserCss from 'prettier/parser-postcss';\nimport parserGraphql from 'prettier/parser-graphql';\nimport parserHtml from 'prettier/parser-html';\nimport parserMarkdown from 'prettier/parser-markdown';\nimport parserTypescript from 'prettier/parser-typescript';\nimport parserYaml from 'prettier/parser-yaml';\n\n/** Make Prettier */\nexport const makePrettier = (language: string, text: string) => {\n  try {\n    if (language === 'css') {\n      const formattedText = prettier.format(text, {\n        parser: 'css',\n        plugins: [parserCss],\n      });\n      return formattedText;\n    } else if (language === 'graphql') {\n      const formattedText = prettier.format(text, {\n        parser: 'graphql',\n        plugins: [parserGraphql],\n      });\n      return formattedText;\n    } else if (language === 'markdown') {\n      const formattedText = prettier.format(text, {\n        parser: 'markdown',\n        plugins: [parserMarkdown],\n      });\n      return formattedText;\n    } else if (language === 'html') {\n      const formattedText = prettier.format(text, {\n        parser: 'html',\n        plugins: [parserHtml],\n      });\n      return formattedText;\n    } else if (language === 'javascript') {\n      const formattedText = prettier.format(text, {\n        parser: 'babel',\n        plugins: [parserBabel],\n      });\n      return formattedText;\n    } else if (language === 'less') {\n      const formattedText = prettier.format(text, {\n        parser: 'less',\n        plugins: [parserCss],\n      });\n      return formattedText;\n    } else if (language === 'typescript') {\n      const formattedText = prettier.format(text, {\n        parser: 'typescript',\n        plugins: [parserTypescript],\n      });\n      return formattedText;\n    } else if (language === 'scss') {\n      const formattedText = prettier.format(text, {\n        parser: 'scss',\n        plugins: [parserCss],\n      });\n      return formattedText;\n    } else if (language === 'yaml') {\n      const formattedText = prettier.format(text, {\n        parser: 'yaml',\n        plugins: [parserYaml],\n      });\n      return formattedText;\n    }\n  } catch (error) {\n    console.error('Error formatting code:', error);\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\n\nimport Editor from './components/Editor';\nimport './stylesheets/main.scss';\nReactDOM.render(\n  <React.StrictMode>\n    <Editor />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}